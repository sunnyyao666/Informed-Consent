# User相关

## User_info

存放用户的个人信息

| 名称       | 类型     | 约束条件 | 说明                  |
| ---------- | -------- | -------- | --------------------- |
| user_id    | int      | 无重复   | 类别标识，PRIMARY KEY |
| tel_number | int      |          | 电话号码              |
| level      | int      |          | 等级                  |
| user_name  | char(20) |          |                       |
| user_pwd   | char(20) |          |                       |

## User_signature

存放用户每个问卷填写的签名图片

| 名称              | 类型      | 约束条件 | 说明                                             |
| ----------------- | --------- | -------- | ------------------------------------------------ |
| pic_id            | int       | UNIQUE   | 类别标识，PRIMARY KEY                            |
| user_id           | int       | NOT NULL | 所属用户标识，与User_info.user_id相关联          |
| questionnaire_id  | int       | NOT NULL | 所属问卷标识，与Questionnaire_info.user_id相关联 |
| signature_address | char(200) | NOT NULL | 签名图片存放路径                                 |

## User_star

存放用户收藏项目

| 名称             | 类型 | 约束条件 | 说明                                             |
| ---------------- | ---- | -------- | ------------------------------------------------ |
| star_id          | int  | UNIQUE   | 类别标识，PRIMARY KEY                            |
| user_id          | int  | NOT NULL | 所属用户标识，与User_info.user_id相关联          |
| questionnaire_id | int  | NOT NULL | 所属问卷标识，与Questionnaire_info.user_id相关联 |
| status           | int  | NOT NULL | -1代表未收藏，1代表收藏                          |

# Questionnaire相关

## Questionnaire_info

存放每个问卷项目的具体信息

需要使用ORM存放记录需要收集的字段

| 名称             | 类型               | 约束条件  | 说明                                                    |
| ---------------- | ------------------ | --------- | ------------------------------------------------------- |
| questionnaire_id | int                | 无重复    | 类别标识，PRIMARY KEY                                   |
| persons_num      | int                | Default=0 | 参与项目人数                                            |
| stars_num        | int                | Default=0 | 收藏数                                                  |
| organization_id  | int                | Not Null  | 所属项目标识，与Organization_info.organization_id相关联 |
| release_date     | datetime           |           | 发布时间                                                |
| start_time       | datetime           |           | 项目开始时间                                            |
| end_time         | datetime           |           | 项目结束时间                                            |
| purpose          | char(200)          |           | 研究目的                                                |
| extra_info       | char(200)          |           | 其他信息                                                |
| field_to_collect | Collection<String> |           | 需要收集的字段，先向Questionnaire_field插入，再放入集合 |

## Questionnaire_field

| 名称             | 类型      | 约束条件 | 说明                                                         |
| ---------------- | --------- | -------- | ------------------------------------------------------------ |
| field_id         | int       | 无重复   | 类别标识，PRIMARY KEY                                        |
| questionnaire_id | int       |          | 类别标识，PRIMARY KEY，所属问卷标识，与Questionnaire_info.questionnaire_id相关联 |
| field_name       | char(200) |          |                                                              |

## Authorization_status

存放数字对应的权限等级

| 名称                     | 类型      | 约束条件                 | 说明 |
| ------------------------ | --------- | ------------------------ | ---- |
| status_one_title         | char(200) | Default="总是征求同意……" |      |
| status_one_description   | char(200) | Default="……"             |      |
| status_two_title         | char(200) | Default="偶尔征求同伊"   |      |
| status_two_description   | char(200) | 以下类推                 |      |
| status_three             | char(200) |                          |      |
| status_three_description | char(200) |                          |      |
| status_four              | char(200) |                          |      |
| status_four_description  | char(200) |                          |      |
| status_five              | char(200) |                          |      |
| status_five_description  | char(200) |                          |      |
| status_six               | char(200) |                          |      |
| status_six_description   | char(200) |                          |      |

## Questionnaire_record

存放每个用户每个问卷的填写记录

需要使用ORM存放收集的字段和结果

| 名称             | 类型            | 约束条件 | 说明                                                      |
| ---------------- | --------------- | -------- | --------------------------------------------------------- |
| record_id        | int             | UNIQUE   | 类别标识，PRIMARY KEY                                     |
| user_id          | int             | NOT NULL | 所属用户标识，与User_info.user_id相关联                   |
| questionnaire_id | int             | NOT NULL | 所属问卷标识，与Questionnaire_info.questionnaire_id相关联 |
| collected_field  | Map<String,int> |          | 字段名和授权类型                                          |
| fill_date        | datetime        |          | 填写时间                                                  |

# Organization相关

## Organization_info

描述每个组织的信息

| 名称              | 类型     | 约束条件 | 说明                  |
| ----------------- | -------- | -------- | --------------------- |
| organization_id   | int      | 无重复   | 类别标识，PRIMARY KEY |
| organization_name | char(20) |          | 电话号码              |
| applicant_name    | char(20) |          | 申请人姓名            |
| applicant_id      | char(20) |          | 申请人身份证号        |